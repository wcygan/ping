## October 14th, 2024, 11:43PM 

I'm having quite a bit of trouble getting the cnpg helm chart to work. 

```bash
kubectl delete crd backups.postgresql.cnpg.io clusters.postgresql.cnpg.io poolers.postgresql.cnpg.io scheduledbackups.postgresql.cnpg.io
kubectl delete cluster --all --all-namespaces
kubectl delete deployment -n cnpg-system --all
kubectl delete service -n cnpg-system --all
kubectl get crd | grep postgresql.cnpg.io | awk '{print $1}' | xargs kubectl delete crd
kubectl delete namespace cnpg-system
```

This did something new!!

```bash
wcygan@foobar-5 ping % k get deployments --namespace cnpg-system
NAME                  READY   UP-TO-DATE   AVAILABLE   AGE
cnpg-cloudnative-pg   1/1     1            1           34s
wcygan@foobar-5 ping % k get pods --namespace cnpg-system     
NAME                                   READY   STATUS    RESTARTS   AGE
cnpg-cloudnative-pg-7b89c8f67c-kht75   1/1     Running   0          39s
```

## October 24th, 2024, 10:23PM

After `skaffold dev`, all of these work:

```bash
# Connect to the primary instance
kubectl cnpg psql pg-cluster

# Connect to a replica
kubectl cnpg psql pg-cluster --replica

# Or connect as postgres superuser
kubectl exec -it pg-cluster-1 -- psql -U postgres pingdb
```

But this one doesn't work:

```bash
# Connect to the primary (in your case pg-cluster-1)
kubectl exec -it pg-cluster-1 -- psql -U pinguser pingdb
```
